if command -qs eza
    function ls --wraps='eza -F' --description 'List contents of directory'
        set -l cmd ls
        set -l param --color=auto
        if isatty stdout
            set cmd eza
            {{- if eq .chezmoi.os "darwin" }}
            set -a param --classify --color-scale size
            {{- else }}
            set -a param --classify --color-scale
            {{- end }}
        end
        command $cmd $param $argv
    end
else if command -qs exa
    function ls -w "exa -F" -d "List contents of directory"
        set -l cmd ls
        set -l param --color=auto
        if isatty stdout
            set cmd exa
            set -a param --classify --color-scale
        end
        command $cmd $param $argv
    end
else if [ -e $__fish_data_dir/functions/ls.fish ]
    source $__fish_data_dir/functions/ls.fish
end
